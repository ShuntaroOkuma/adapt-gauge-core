{
  "task_id": "code_fix_001",
  "category": "code_fix",
  "version": "1.0",
  "measures": [],
  "description": "The following Python code has a bug. Output the fixed code only, without code blocks or markdown formatting",
  "instruction": "Read the buggy Python code and output only the corrected code. Do not use markdown formatting or code blocks.",
  "difficulty": "medium",
  "examples": [
    {
      "input": "# Buggy code: function to calculate list sum\ndef sum_list(numbers):\n    total = 0\n    for i in range(len(numbers)):\n        total += numbers[i + 1]\n    return total",
      "output": "def sum_list(numbers):\n    total = 0\n    for i in range(len(numbers)):\n        total += numbers[i]\n    return total"
    },
    {
      "input": "# Buggy code: function to reverse a string\ndef reverse_string(s):\n    result = \"\"\n    for i in range(len(s), 0, -1):\n        result += s[i]\n    return result",
      "output": "def reverse_string(s):\n    result = \"\"\n    for i in range(len(s) - 1, -1, -1):\n        result += s[i]\n    return result"
    },
    {
      "input": "# Buggy code: function to get a value from a dictionary\ndef get_value(data, key):\n    if key in data:\n        return data[key]\n    else:\n        return data[key]",
      "output": "def get_value(data, key):\n    if key in data:\n        return data[key]\n    else:\n        return None"
    },
    {
      "input": "# Buggy code: function to calculate the average\ndef calculate_average(numbers):\n    total = sum(numbers)\n    return total / len(numbers)",
      "output": "def calculate_average(numbers):\n    if len(numbers) == 0:\n        return 0\n    total = sum(numbers)\n    return total / len(numbers)"
    },
    {
      "input": "# Buggy code: function to calculate factorial\ndef factorial(n):\n    if n == 0:\n        return 0\n    return n * factorial(n - 1)",
      "output": "def factorial(n):\n    if n == 0:\n        return 1\n    return n * factorial(n - 1)"
    },
    {
      "input": "# Buggy code: function to sort a list\ndef bubble_sort(arr):\n    for i in range(len(arr)):\n        for j in range(len(arr) - 1):\n            if arr[j] < arr[j + 1]:\n                arr[j], arr[j + 1] = arr[j + 1], arr[j]\n    return arr",
      "output": "def bubble_sort(arr):\n    for i in range(len(arr)):\n        for j in range(len(arr) - 1):\n            if arr[j] > arr[j + 1]:\n                arr[j], arr[j + 1] = arr[j + 1], arr[j]\n    return arr"
    },
    {
      "input": "# Buggy code: function to calculate Fibonacci sequence\ndef fibonacci(n):\n    if n <= 1:\n        return n\n    return fibonacci(n - 1) + fibonacci(n - 3)",
      "output": "def fibonacci(n):\n    if n <= 1:\n        return n\n    return fibonacci(n - 1) + fibonacci(n - 2)"
    },
    {
      "input": "# Buggy code: function to check if a number is prime\ndef is_prime(n):\n    if n < 2:\n        return False\n    for i in range(2, n):\n        if n % i == 0:\n            return True\n    return False",
      "output": "def is_prime(n):\n    if n < 2:\n        return False\n    for i in range(2, n):\n        if n % i == 0:\n            return False\n    return True"
    }
  ],
  "test_cases": [
    {
      "input": "# Buggy code: function to find the maximum value in a list\ndef find_max(numbers):\n    if len(numbers) == 0:\n        return None\n    max_val = 0\n    for num in numbers:\n        if num > max_val:\n            max_val = num\n    return max_val",
      "expected_output": "max_val = numbers[0]",
      "scoring_method": "contains"
    },
    {
      "input": "# Buggy code: function to extract only even numbers from a list\ndef filter_even(numbers):\n    result = []\n    for num in numbers:\n        if num % 2 == 1:\n            result.append(num)\n    return result",
      "expected_output": "num % 2 == 0",
      "scoring_method": "contains"
    },
    {
      "input": "# Buggy code: function to count the number of words in a string\ndef count_words(text):\n    words = text.split()\n    return len(words) - 1",
      "expected_output": "return len(words)",
      "scoring_method": "contains"
    }
  ],
  "distractors": [
    {
      "input": "# Working code: print Hello World\nprint(\"Hello, World!\")",
      "output": "print(\"Hello, World!\")"
    },
    {
      "input": "# Design issue: uses global variables\ncounter = 0\ndef increment():\n    global counter\n    counter += 1",
      "output": "def increment(counter):\n    return counter + 1"
    }
  ]
}
